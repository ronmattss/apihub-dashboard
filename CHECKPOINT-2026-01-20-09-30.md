# Checkpoint — HubDashboard

Date: 2026-01-20 09:30 (local)

Summary of repository state captured as a checkpoint:

- Pages / files of interest:
  - `src/pages/Home.js` — main dashboard shell. Changed to use a fixed CSS grid for widget placement.
  - `src/components/*` — Header, Sidebar, WeatherCard, ServiceListCard, CommandBuilder, HubLogin, MessageSender, WsLog, MatrixToggle present and integrated.
  - `src/helpers/sensorCommand.js` — used by `CommandBuilder`.

- Behavior captured:
  - Widgets are rendered in a CSS grid using `gridColumn` / `gridRow` computed from `defaultCardLayout`.
  - Dragging and resizing are disabled; positions are fixed in memory (no localStorage persistence).
  - `defaultCardLayout` provides initial positions for `WeatherCard`, `ServiceListCard`, and `HubLogin`.
  - `addCard()` places new widgets using a simple `findNextFreePosition()` scan.

- Recent edits (high level):
  - Removed complex react-grid-layout handling to avoid overlapping/compaction problems.
  - Sanitization logic for legacy saved layouts was previously added and then the codebase was switched to in-memory-only for stability.
  - Resizable CSS import removed; resizing disabled.

- Remaining / optional next steps (suggested):
  - (Optional) Add a small UI to configure default width/height (grid spans) when adding widgets.
  - (Optional) Re-introduce drag-to-rearrange with safe collision handling and optional localStorage persistence.
  - (Optional) Replace inline grid styles with Tailwind utility classes and make `gridAutoRows` configurable.

Notes:
- This checkpoint is intended to be a stable, minimal baseline to return to while we iterate on widget behavior.

If you want a git commit or archive created, tell me and I'll prepare the exact git commands to run locally.
